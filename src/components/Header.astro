---
import { Image } from 'astro:assets';
import estrellaSvg from '../assets/estrella.svg?url';

const currentPath = Astro.url.pathname;
const isGalleryOrAbout = currentPath === '/galeria' || currentPath === '/about';
---

<header>
  <button id="menu-toggle" class={`${isGalleryOrAbout ? 'absolute' : 'fixed'} top-4 right-4 cursor-pointer w-[64px] h-[64px] hover:text-gray-600 transition-colors z-50`}>
    <img 
      src={estrellaSvg} 
      alt="Menu" 
      width="64"
      height="64"
      class="w-full h-full" 
    />
  </button>
  
  <div id="mobile-menu" class="fixed top-0 right-0 h-screen w-64 backdrop-blur-md bg-white/30 transform translate-x-full transition-transform duration-300 ease-in-out z-50">
    <div class="p-6">
      <button id="menu-close" class="cursor-pointerabsolute top-4 right-4 text-2xl hover:text-gray-600">
        <i class="fas fa-times"></i>
      </button>
      <div class="flex flex-col space-y-6 mt-12">
        <a href="/" class="cursor-pointer text-lg hover:text-gray-600 transition-colors">Home</a>
        <a href="/about" class="cursor-pointer text-lg hover:text-gray-600 transition-colors">About Me</a>
        <a href="/galeria" class="cursor-pointer text-lg hover:text-gray-600 transition-colors">Galeria</a>
      </div>
    </div>
  </div>
</header>

<script>
  const menuToggle = document.getElementById('menu-toggle');
  const menuClose = document.getElementById('menu-close');
  const mobileMenu = document.getElementById('mobile-menu');

  menuToggle?.addEventListener('click', () => {
    mobileMenu?.classList.remove('translate-x-full');
  });

  menuClose?.addEventListener('click', () => {
    mobileMenu?.classList.add('translate-x-full');
  });

  // Cerrar menÃº al hacer clic fuera
  document.addEventListener('click', (e) => {
    const target = e.target as HTMLElement;
    if (!target.closest('#mobile-menu') && !target.closest('#menu-toggle')) {
      mobileMenu?.classList.add('translate-x-full');
    }
  });
</script> 